<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>点亮</title>
    <style>
         .img{
            -webkit-filter: grayscale(var(--view-gray, 100%)); /* Chrome, Safari, Opera */
            filter: grayscale(var(--view-gray, 100%));
            width: 100%;
            height: 60%;
            margin: 0 auto;
         }
    </style>
</head>
<body>
    <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1589367662337&di=eeade9b006148a5b0453c0fe855a0049&imgtype=0&src=http%3A%2F%2Fwww.cnszx.com%2Fwp-content%2Fuploads%2F2020%2F02%2F1000-52.jpg" alt="" id="img1" class="img" onclick="turnOn()" >
    <h2>点亮他吧！</h2>
    <script>
          function turnOn(){
                let  el = document.getElementById('img1')
                 var sum = 100;
                 var s1= setInterval(()=>{
                     sum=sum-5;
                     el.style.setProperty('--view-gray', sum+'%')
                     console.log('sum',sum);
                      if(sum==0){
                           window.clearInterval(s1)
                           setTimeout(()=>{
                                  alert("love")
                           },500)
                      }  
                 },100)
         }
    </script>
</body>
</html>